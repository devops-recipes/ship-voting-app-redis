resources:
# resources for the provision-gke-kubernetes-cluster app

  - name: front_img
    type: image
    integration: drship_gcr
    pointer:
      sourceName: "gcr.io/fair-future-183201/vote"
    seed:
      versionName: "master.1"

  - name: back_img
    type: image
    integration: drship_gcr
    pointer:
      sourceName: "launcher.gcr.io/google/redis3"
    seed:
      versionName: "latest"

  # GitHub repo holding scripts to be used in runsh pipeline job
  - name: twotier_app_gitRepo
    type: gitRepo
    integration: dr_github # replace with your GitHub integration name
    pointer:
      # replace with source code location (e.g. GitHub) where you cloned this
      # sample project.
      sourceName: devops-recipes/twotier-kubernetes-gke
      branch: master

  # config for GKE CLI
  - name: gke_cliConfig
    type: cliConfig
    integration: drship_gke
    pointer:
      region: us-central1-b

  - name: relstate
    type: state

  - name: prodstate
    type: state

  - name: teststate
    type: state

  - name: test_cluster_params
    type: params
    version:
      params:
        VOTE_FRONT_LABEL: "VOTE_FRONT_TEST"
        VOTE_BACK_LABEL: "VOTE_BACK_TEST"

  - name: prod_cluster_params
    type: params
    version:
      params:
        VOTE_FRONT_LABEL: "VOTE_FRONT_PROD"
        VOTE_BACK_LABEL: "VOTE_BACK_PROD"

  - name: kube_cluster
    type: cluster
    integration: drship_gke    #replace with your Kubernetes integration name
    pointer:
      sourceName: "vote-cluster"
      region: us-central1-b
